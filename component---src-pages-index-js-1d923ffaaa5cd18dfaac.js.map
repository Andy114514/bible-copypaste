{"version":3,"sources":["webpack:///./src/components/Quote.jsx","webpack:///./src/config/bible.js","webpack:///./src/pages/index.js"],"names":["Quote","snippetId","title","template","placeholder","React","useState","res","Array","from","matchAll","set","Set","map","matchRes","label","value","reduce","curr","has","add","extractPlaceHolder","placeHolders","setPlaceHolders","handleFieldUpdate","useCallback","newValue","handleCopy","range","document","createRange","selectNode","querySelector","window","getSelection","addRange","execCommand","removeAllRanges","err","console","error","className","partialTemplate","placeHolderRegex","RegExp","log","replaceAll","replacePlaceHolder","onClick","key","htmlFor","type","name","onChange","e","target","bible","id","Home"],"mappings":"2LAuCA,IAwEeA,EAxED,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,UAAWC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,SAA4B,KAAlBC,YACHC,IAAMC,SAlChD,SAA4BH,GAC1B,IACMI,EAAMC,MAAMC,KAAKN,EAASO,SADP,wBAEnBC,EAAM,IAAIC,IAChB,OAAOL,EACJM,KAAI,SAAAC,GAAQ,MAAK,CAChBC,MAAOD,EAAS,GAChBE,MAAOF,EAAS,OAEjBG,QAAO,SAACV,EAAKW,GACZ,OAAIP,EAAIQ,IAAID,EAAKH,OACRR,GAETI,EAAIS,IAAIF,EAAKH,OACP,GAAN,mBAAWR,GAAX,CAAgBW,OACf,IAoBHG,CAAmBlB,KADdmB,EADsD,KACxCC,EADwC,KAW7D,IAAMC,EAAoBnB,IAAMoB,aAAY,SAACV,EAAOW,GAClDH,EACED,EAAaT,KAAI,SAAAT,GACf,OAAIA,EAAYW,QAAUA,EACjB,CACLA,MAAOX,EAAYW,MACnBC,MAAOU,GAGJtB,SAKPuB,EAAatB,IAAMoB,aAAY,WACnC,IAAMG,EAAQC,SAASC,cACvBF,EAAMG,WAAWF,SAASG,cAAT,IAA2B/B,EAA3B,YACjBgC,OAAOC,eAAeC,SAASP,GAE/B,IACEC,SAASO,YAAY,QACrBH,OAAOC,eAAeG,kBACtB,MAAOC,GACPC,QAAQC,MAAM,aAAcF,OAIhC,OACE,yBAAKG,UAAU,kCACb,wBAAIA,UAAU,aAAavC,GAC3B,uBAAGuC,UAAcxC,EAAL,WAnCPqB,EAAaL,QAAO,SAACyB,EAAD,GACzB,OAhBN,SAA4BvC,EAAUY,EAAOC,GAC3C,IAAM2B,EAAmB,IAAIC,OAAJ,SAAoB7B,EAApB,YAAsC,KAK/D,OAJAwB,QAAQM,IACN,iEACA1C,GAEKA,EAAS2C,WAAWH,EAAkB3B,GAUlC+B,CAAmBL,EADsC,EAAnB3B,MAAmB,EAAZC,SAEnDb,IAkCD,6BACE,4BACEsC,UAAU,8CACVO,QAASrB,GAFX,OAOF,yBAAKc,UAAU,aACZnB,EAAaT,KAAI,YAAuB,IAApBE,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MAC1B,OACE,yBAAKyB,UAAU,yBAAyBQ,IAAKlC,GAC3C,2BAAOmC,QAASnC,GAAQA,GACxB,2BACE0B,UAAU,gEACVU,KAAK,OACLC,KAAMrC,EACNC,MAAOA,EACPqC,SAAU,SAAAC,GACR9B,EAAkBT,EAAOuC,EAAEC,OAAOvC,iBC/ErCwC,EArBD,CACZ,CACEC,GAAI,UACJvD,MAAO,KACPC,SACE,wHAEJ,CACEsD,GAAI,SACJvD,MAAO,KACPC,SACE,kIAEJ,CACEsD,GAAI,WACJvD,MAAO,MACPC,SACE,4KCbS,SAASuD,IACtB,OACE,yBAAKjB,UAAU,uBACZe,EAAM3C,KAAI,YAA8B,IAA3B4C,EAA0B,EAA1BA,GAAIvD,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACvB,OACE,kBAAC,EAAD,CACE8C,IAAKQ,EACLxD,UAAWwD,EACXvD,MAAOA,EACPC,SAAUA","file":"component---src-pages-index-js-1d923ffaaa5cd18dfaac.js","sourcesContent":["import React from \"react\"\n\n/**\n *\n * @param {string} template\n */\nfunction extractPlaceHolder(template) {\n  const placeHolderRegex = /\\$\\{(.*?)\\|(.*?)\\}/g\n  const res = Array.from(template.matchAll(placeHolderRegex))\n  const set = new Set()\n  return res\n    .map(matchRes => ({\n      label: matchRes[1],\n      value: matchRes[2],\n    }))\n    .reduce((res, curr) => {\n      if (set.has(curr.label)) {\n        return res\n      }\n      set.add(curr.label)\n      return [...res, curr]\n    }, [])\n}\n\n/**\n *\n * @param {string} template\n * @param {string} label\n * @param {string} value\n */\nfunction replacePlaceHolder(template, label, value) {\n  const placeHolderRegex = new RegExp(`\\\\$\\\\{${label}\\\\|.*?\\\\}`, \"g\")\n  console.log(\n    \"ğŸš€ ~ file: Quote.jsx ~ line 42 ~ replacePlaceHolder ~ template\",\n    template\n  )\n  return template.replaceAll(placeHolderRegex, value)\n}\n\nconst Quote = ({ snippetId, title, template, placeholder }) => {\n  const [placeHolders, setPlaceHolders] = React.useState(\n    extractPlaceHolder(template)\n  )\n\n  function renderResult() {\n    return placeHolders.reduce((partialTemplate, { label, value }) => {\n      return replacePlaceHolder(partialTemplate, label, value)\n    }, template)\n  }\n\n  const handleFieldUpdate = React.useCallback((label, newValue) => {\n    setPlaceHolders(\n      placeHolders.map(placeholder => {\n        if (placeholder.label === label) {\n          return {\n            label: placeholder.label,\n            value: newValue,\n          }\n        }\n        return placeholder\n      })\n    )\n  })\n\n  const handleCopy = React.useCallback(() => {\n    const range = document.createRange()\n    range.selectNode(document.querySelector(`.${snippetId}.result`))\n    window.getSelection().addRange(range)\n\n    try {\n      document.execCommand(\"copy\")\n      window.getSelection().removeAllRanges()\n    } catch (err) {\n      console.error(\"copy error\", err)\n    }\n  })\n\n  return (\n    <div className=\"shadow container p-5 space-y-2\">\n      <h3 className=\"font-bold\">{title}</h3>\n      <p className={`${snippetId} result`}>{renderResult()}</p>\n      <div>\n        <button\n          className=\"bg-green-500 px-2 py-1 text-white leading-4\"\n          onClick={handleCopy}\n        >\n          å¤åˆ¶\n        </button>\n      </div>\n      <div className=\"space-y-2\">\n        {placeHolders.map(({ label, value }) => {\n          return (\n            <div className=\"grid grid-cols-1 gap-4\" key={label}>\n              <label htmlFor={label}>{label}</label>\n              <input\n                className=\"block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md\"\n                type=\"text\"\n                name={label}\n                value={value}\n                onChange={e => {\n                  handleFieldUpdate(label, e.target.value)\n                }}\n              ></input>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default Quote\n","const bible = [\n  {\n    id: \"support\",\n    title: \"æ”¯æ´\",\n    template:\n      \"${æ”¯æ´è€…|æ¡ç”Ÿæœƒé•·}ï¼Œè«‹æ‚¨æ”¯æ´ #${è¢«æ”¯æ´è€…|æ¡ç”Ÿã‚³ã‚³} ï¼Œå¥¹åƒ…åƒ…å› ç‚ºèªª${è¢«æ”¯æ´è€…çš„ä¸»å¼ |å°ç£æ˜¯å€‹åœ‹å®¶}ï¼Œå°±å—${è¢«æ”¯æ´è€…çš„åå¯¹è€…|ä¸­åœ‹äº”æ¯›}æ©Ÿå™¨äººçš„æ”»æ“Šä»¥åŠäººèº«å¨è„…ï¼Œå’Œæœªå©šå¤«${æ— å…³è€…|è‚–æˆ°}çš„å©šç´„ä¹Ÿè¢«è¿«å–æ¶ˆï¼Œè«‹ä¸€å®šè²æ´å¥¹ï¼\",\n  },\n  {\n    id: \"nature\",\n    title: \"å°¿æ€§\",\n    template:\n      \"ä¾${åå¯¹è€…|äº”æ¯›}çš„å°¿æ€§ï¼Œ${å£°æ´è€…|è”¡ç¸½çµ±}çš„è²æ´åè€Œæœƒå¼•ä¾†è¶Šå¤š${åå¯¹è€…2|ä¸­åœ‹äº”æ¯›}æ”»æ“Š #${è¢«åå¯¹è€…|æ¡ç”Ÿã‚³ã‚³}ï¼Œå› ç‚ºä»–å€‘æœƒèªªé‚£æ˜¯ #${è¢«åå¯¹è€…|æ¡ç”Ÿã‚³ã‚³} æ”¯æŒå°ç¨çš„è­‰æ“šï¼Œå°å¾…${åå¯¹è€…|äº”æ¯›}æœ€å¥½çš„æ–¹æ³•æ˜¯è¦–è‹¥ç„¡ç¹æˆ–ç›´æ¥å°é–ä»–å€‘çš„å¸³è™Ÿã€‚\",\n  },\n  {\n    id: \"too-hard\",\n    title: \"å¤ªéš¾äº†\",\n    template:\n      \"ç•¶${æ”¯æ´è€…çš„èŒä¸š|å°ç£çš„ç¸½çµ±}å¤ªé›£äº†ï¼Œè¦è€ƒé‡çš„äº‹å¤ªå¤šäº†ï¼Œä¹Ÿè¨±${æ”¯æ´è€…çš„å›¢ä½“|è”¡æ”¿åºœ}æœ‰å—åˆ°ç”šéº¼æˆ‘å€‘ä¸çŸ¥é“çš„å£“åŠ›ï¼Œéœ€è¦å¥¹ç«‹å³è¡¨æ…‹ï¼Œç•¢ç«Ÿé€™éº¼æˆ‘ç¬¬ä¸€æ¬¡å°å¥¹çš„æ±ºå®šè¦ºå¾—ä¸å¦¥ï¼Œä¸éæˆ–è¨±é€™æ˜¯å¥¹èƒ½å¤ ç•¶${æ”¯æ´è€…çš„èŒä¸š|å°ç£çš„ç¸½çµ±}ï¼Œè€Œæˆ‘åªèƒ½æ‰“å€‹å­—ç™¼ä¸€ç™¼ç‰¢é¨·çš„åŸå› ã€‚å¸Œæœ›${æ”¯æ´è€…çš„ç§°å‘¼|è”¡ç¸½çµ±}ç™¼é€™å€‹æ¨æ–‡ä¹‹å‰æœ‰å’Œè‚–æˆ°åŸ·æ”¿åœ˜éšŠæºé€šä¸¦å–å¾—ä»–å€‘çš„è«’è§£ã€‚\",\n  },\n]\n\nexport default bible\n","import React from \"react\"\nimport Quote from \"../components/Quote\"\nimport bible from \"../config/bible\"\n\nexport default function Home() {\n  return (\n    <div className=\"container space-y-1\">\n      {bible.map(({ id, title, template }) => {\n        return (\n          <Quote\n            key={id}\n            snippetId={id}\n            title={title}\n            template={template}\n          ></Quote>\n        )\n      })}\n    </div>\n  )\n}\n"],"sourceRoot":""}